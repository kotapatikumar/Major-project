<% layout("/layouts/boilerplate.ejs") -%>

<body>
    <form method="post" class="mb-3 offset-2 needs-validation" action="/listings/<%= value._id%>?_method=put" novalidate   enctype="multipart/form-data">
        <div class="row ">
            <h2 class="mt-3">Edit The Listing</h2>
            <div class="col-9 mb-3">
                <div class="mb-3">
                    <label class="form-label" for="title">Title</label>
                    <input name="obj[title]" value="<%= value.title%>" type="text" class="form-control" id="title" required>
                    <div class="valid-feedback">Title looks good</div>
                    <div class="invalid-feedback">Enter valid Title</div>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="des">Description</label>
                    <textarea name="obj[description]"   class="form-control" id="des" required><%= value.description %></textarea>
                    <div class="invalid-feedback">Please enter a short description </div> 
                </div>

                <div class="mb-3" >
                    <p>Original Lisitng Image</p>
                    <img src="<%=originalImageUrl%>" style="height:150px;width:250px">
                </div>



                <div class="mb-3">
                    <label class="form-label" for="img">Upload New Image </label>
                    <input name="obj[image]"  type="file" class="form-control" id="img" >
                </div>
                <div class="row">
                    <div class="col-4 mb-3">
                        <label class="form-label" for="price">Price</label>
                        <input name="obj[price]" value="<%= value.price%>" type="number" class="form-control" id="price" required>
                        <div class="invalid-feedback">Please enter valid Price</div>
                    </div>
                    <div class="col-8 mb-3">
                        <label class="form-label" for="cou">Country</label>
                        <input name="obj[country]" value="<%= value.country%>" type="text" class="form-control" id="cou"required>
                        <div class="invalid-feedback">Country name should be valid</div>
                    </div>
                </div>
               
                <div class="mb-3">
                    <label class="form-label" for="loc">Location</label>
                    <input name="obj[location]" value="<%= value.location%>" type="text" class="form-control" id="loc" required>
                    <div class="invalid-feedback">Location should be valid</div>
                </div>
            </div>
        </div>
        <button class="btn btn-outline-danger edit">Edit</button>
    </form>
</body>